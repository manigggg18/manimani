<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Game | A Blog of Some Kind</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Game" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Merely a tool for mastering Computer Science." />
<meta property="og:description" content="Merely a tool for mastering Computer Science." />
<link rel="canonical" href="https://manigggg18.github.io/manimani/game" />
<meta property="og:url" content="https://manigggg18.github.io/manimani/game" />
<meta property="og:site_name" content="A Blog of Some Kind" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Game" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Merely a tool for mastering Computer Science.","headline":"Game","url":"https://manigggg18.github.io/manimani/game"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/manimani/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://manigggg18.github.io/manimani/feed.xml" title="A Blog of Some Kind" /><link rel="shortcut icon" type="image/x-icon" href="/manimani/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A==" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/manimani/">A Blog of Some Kind</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/manimani/about/">About Me</a><a class="page-link" href="/manimani/game">Game</a><a class="page-link" href="/manimani/notes%20&%20vocab/">Notes &amp; Vocab</a><a class="page-link" href="/manimani/javascript/">Misc</a><a class="page-link" href="/manimani/lessons/">Lessons</a><a class="page-link" href="/manimani/categories/">Tags</a><a class="page-link" href="/manimani/search/">Search</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Game</h1>
  </header>

  <div class="post-content">
    <div class="greet-container">
  <h2>Welcome To Code-Crunch!</h2>
  <blockquote id = "greet-text">First timer? Don't worry! You'll get the hang of it. Click the Play button, and try to match as many cards as possible in under 25 seconds. Each matched pair is 1 point. Your score is displayed on the blue box. Be careful, the timer isn't really fair!</blockquote>
</div>
<br>
<div class="play-container">
  <button type="button" id="play-button">Play</button>
  <button type="button" id="close-game">Close</button>
  <br>
  <div id="game-container">
      <button type="button" class="bar-1"><span id="match-count">Score</span></button>
      <div id='timer'></div>
      <section id="canvas" class="hidden">
      <div id="game">
      </div>
      <img id="popup-image" src="/manimani/images/m.png">
    </section>
  </div>
  <br>
</div>
<script>

// for loop: creating 16 cards each with a unique id
var gameDiv = document.getElementById('game');
for (let i = 1; i <= 16; i++) {
  var flipCardDiv = document.createElement('div');
  flipCardDiv.id = 'flip-card-' + i;
  flipCardDiv.classList.add('flip-card');
  flipCardDiv.innerHTML = `
    <div class="flip-card-front"></div>
    <div class="flip-card-back"></div>
  `;
  gameDiv.appendChild(flipCardDiv);
}

// onevent click listeners for play button and close button (closing and starting the game restarts the game including score and timer)
var playbutton = document.getElementById("play-button");
playbutton.onclick = function() {
  document.getElementById("game-container").style.display = "block";
  document.getElementById("play-button").style.display = "none";
  document.getElementById("close-game").style.display = "block";
}

// by using the randSide function it is assured that the items in the list are assigned to each card randomly with no repeats
var sides = document.querySelectorAll(".flip-card .flip-card-back");
function assignImages(sides) {
  // each image is listed twice since there are 16 cards
  var url = "/manimani/images/";   // for max efficiency
  // CITATION: all of the following images are from the website Font Awesome
  var randImages = [
                        url + "bug.png",
                        url + "bug.png", 
                        url + "c.png",
                        url + "c.png",  
                        url + "ch.png", 
                        url + "ch.png", 
                        url + "d.png", 
                        url + "d.png",
                        url + "e.png", 
                        url + "e.png",
                        url + "g.png",
                        url + "g.png",  
                        url + "s.png", 
                        url + "s.png", 
                        url + "sc.png",   
                        url + "sc.png"
                      ];
  var imagesPostReplay = randImages.slice();
  for (var i = 0; i < 16; i++) {
    var randomIndex = Math.floor(Math.random() * randImages.length);
    var side = randImages[randomIndex];
    // each image is randomly selected and returned while also being deleted from the list 
    randImages.splice(randomIndex, 1);
    sides[i].innerHTML = '<img id="crds" src="' + side + '">';
  }
  if (typeof assignImages.initialized == 'undefined') {
    assignImages.initialized = true;
    // since the reset function relies on randImages being repeated, it is more efficient to make a copy of the list instead
    randImages = imagesPostReplay;  
  }
}

function unflipped(card) {
  // usage of NOT operator: items with the flipped class result in False, which is inverted by the NOT operator, resulting in True
  return !card.classList.contains("flipped");
}

// checking if the html property (image) of two selected cards match
var flippedCards = [];
function matched(flippedCards) {
  return (flippedCards[0].innerHTML == flippedCards[1].innerHTML);
}
// if cards don't match, they will stay flipped for 700ms and then the "flipped" class is removed from both cards
var hold = 700;
function hideCards(flippedCards) {
  setTimeout(function() {
    flippedCards[0].classList.remove("flipped");
    flippedCards[1].classList.remove("flipped");
  }, 
  hold);
}

// Once the game is restarted, images are assigned randomly and all cards will be face-down
var flipCardElements = document.querySelectorAll(".flip-card");
function reset(sides, flipCardElements) {
  assignImages(sides);
  flipCardElements.forEach(function(card) {
    card.classList.remove("flipped");
  });
}

var matchCountDisplay = document.querySelector("#match-count");
var matchCounter = 0;     // 0 initial score
// assignImages function called
assignImages(sides);
var canvas = document.querySelector("#canvas");   
canvas.addEventListener("click", function(event) {     // interactive area with click event listener
  if (event.target.classList.contains("flip-card-front")) {   
    // closest element with the flip-card class
    var card = event.target.closest(".flip-card");
    if (unflipped(card)) {
      // flipped cards assigned the class "flipped" and added to the flippedCards array
      card.classList.add("flipped");
      flippedCards.push(card);
    }
    // if two cards have been flipped
    if (flippedCards.length == 2) {
      if (matched(flippedCards)) {
        // update score
        matchCountDisplay.textContent = ++matchCounter;
      } else {
        // cards hidden if don't match
        hideCards(flippedCards);
      }
      // array emptied
      flippedCards = [];
    }
  }
});

// timer function with parameters
function initTimer(id, duration, callback) {
  var t = document.getElementById(id);
  t.className = 'timer';
  var tInner = document.createElement('div');
  tInner.className = 'inner';
  tInner.style.animationDuration = duration;
  if (typeof(callback) === 'function')
    tInner.addEventListener('animationend', callback);
    t.appendChild(tInner);
    // start animation
    tInner.style.animationPlayState = 'running';
}

addEventListener('load', () => initTimer('timer', '25s', () => {    // duration set to 25s
  var scrnfreeze = document.getElementById("game-container");     
  scrnfreeze.classList.add("frozen");                             // game is frozen once timer reaches zero
  document.getElementById("popup-image").style.display = "block";        // time's up message pop up
}));

// reseting: close button acts as a replay button
var closegame = document.getElementById("close-game");
closegame.onclick = function() {
  var scrnfreeze = document.getElementById("game-container");
  reset(sides, flipCardElements);   // reset function called
  matchCounter = 0;   // score reset
  matchCountDisplay.textContent = matchCounter;    // score display reset
  scrnfreeze.classList.remove("frozen");            // frozen effect removed
  document.getElementById("popup-image").style.display = "none";    // pop up removed
  document.getElementById("game-container").style.display = "none";
  document.getElementById("play-button").style.display = "block";
  document.getElementById("close-game").style.display = "none";
}
</script>
  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/manimani/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="https://manigggg18.github.io/manimani/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/manimani/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Merely a tool for mastering Computer Science.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li>
  <a rel="me" href="” https://github.com/nighthawkcoders “" target="_blank" title="github">
    <svg class="svg-icon grey">
      <use xlink:href="/manimani/assets/minima-social-icons.svg#github"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="” https://twitter.com/Mani26393347 “" target="_blank" title="twitter">
    <svg class="svg-icon grey">
      <use xlink:href="/manimani/assets/minima-social-icons.svg#twitter"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="” https://www.youtube.com/channel/UCDCoC16kj3pPgf53Mr8_Jcw “" target="_blank" title="youtube">
    <svg class="svg-icon grey">
      <use xlink:href="/manimani/assets/minima-social-icons.svg#youtube"></use>
    </svg>
  </a>
</li>
</ul>
</div>

  </div>

</footer>
</body>

</html>
